# Simfin Derived

[_Documentation generated by Documatic_](https://www.documatic.com)

<!---Documatic-section-Codebase Structure-start--->
## Codebase Structure

<!---Documatic-block-system_architecture-start--->
```mermaid
flowchart LR
derived([derived])
names([names])
derived-->names
```
<!---Documatic-block-system_architecture-end--->

# #
<!---Documatic-section-Codebase Structure-end--->

<!---Documatic-section-simfin.derived.free_cash_flow-start--->
## [simfin.derived.free_cash_flow](12-simfin_derived.md#simfin.derived.free_cash_flow)

<!---Documatic-section-free_cash_flow-start--->
<!---Documatic-block-simfin.derived.free_cash_flow-start--->
<details>
	<summary><code>simfin.derived.free_cash_flow</code> code snippet</summary>

```python
def free_cash_flow(df_cashflow):
    df_result = df_cashflow[NET_CASH_OPS].fillna(0) + df_cashflow[CAPEX].fillna(0)
    df_result.rename(FCF, inplace=True)
    return df_result
```
</details>
<!---Documatic-block-simfin.derived.free_cash_flow-end--->
<!---Documatic-section-free_cash_flow-end--->

# #
<!---Documatic-section-simfin.derived.free_cash_flow-end--->

<!---Documatic-section-simfin.derived.shares-start--->
## [simfin.derived.shares](12-simfin_derived.md#simfin.derived.shares)

<!---Documatic-section-shares-start--->
<!---Documatic-block-simfin.derived.shares-start--->
<details>
	<summary><code>simfin.derived.shares</code> code snippet</summary>

```python
def shares(df, index=SHARES_DILUTED):
    index_other = SHARES_BASIC if index == SHARES_DILUTED else SHARES_DILUTED
    df_shares = df[index].fillna(df[index_other]).copy()
    return df_shares
```
</details>
<!---Documatic-block-simfin.derived.shares-end--->
<!---Documatic-section-shares-end--->

# #
<!---Documatic-section-simfin.derived.shares-end--->

<!---Documatic-section-simfin.derived.ebitda-start--->
## [simfin.derived.ebitda](12-simfin_derived.md#simfin.derived.ebitda)

<!---Documatic-section-ebitda-start--->
<!---Documatic-block-simfin.derived.ebitda-start--->
<details>
	<summary><code>simfin.derived.ebitda</code> code snippet</summary>

```python
def ebitda(df_income, df_cashflow, formula=NET_INCOME):
    if formula == OP_INCOME:
        df_result = df_income[OP_INCOME].fillna(0) + df_cashflow[DEPR_AMOR].fillna(0)
    elif formula == NET_INCOME:
        df_result = df_income[NET_INCOME].fillna(0) - df_income[INTEREST_EXP_NET].fillna(0) - df_income[INCOME_TAX].fillna(0) + df_cashflow[DEPR_AMOR].fillna(0)
    else:
        msg = 'arg `formula` was invalid.'
        raise ValueError(msg)
    df_result.rename(EBITDA, inplace=True)
    return df_result
```
</details>
<!---Documatic-block-simfin.derived.ebitda-end--->
<!---Documatic-section-ebitda-end--->

# #
<!---Documatic-section-simfin.derived.ebitda-end--->

<!---Documatic-section-simfin.derived.netnet-start--->
## [simfin.derived.netnet](12-simfin_derived.md#simfin.derived.netnet)

<!---Documatic-section-netnet-start--->
<!---Documatic-block-simfin.derived.netnet-start--->
<details>
	<summary><code>simfin.derived.netnet</code> code snippet</summary>

```python
def netnet(df_balance):
    df_result = df_balance[CASH_EQUIV_ST_INVEST].fillna(0) + df_balance[ACC_NOTES_RECV].fillna(0) * 0.75 + df_balance[INVENTORIES].fillna(0) * 0.5 - df_balance[TOTAL_LIABILITIES]
    df_result.rename(NETNET, inplace=True)
    return df_result
```
</details>
<!---Documatic-block-simfin.derived.netnet-end--->
<!---Documatic-section-netnet-end--->

# #
<!---Documatic-section-simfin.derived.netnet-end--->

<!---Documatic-section-simfin.derived.ncav-start--->
## [simfin.derived.ncav](12-simfin_derived.md#simfin.derived.ncav)

<!---Documatic-section-ncav-start--->
<!---Documatic-block-simfin.derived.ncav-start--->
<details>
	<summary><code>simfin.derived.ncav</code> code snippet</summary>

```python
def ncav(df_balance):
    df_result = df_balance[TOTAL_CUR_ASSETS] - df_balance[TOTAL_LIABILITIES]
    df_result.rename(NCAV, inplace=True)
    return df_result
```
</details>
<!---Documatic-block-simfin.derived.ncav-end--->
<!---Documatic-section-ncav-end--->

# #
<!---Documatic-section-simfin.derived.ncav-end--->

[_Documentation generated by Documatic_](https://www.documatic.com)